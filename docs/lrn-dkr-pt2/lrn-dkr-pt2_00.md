# 前言

为了建立广受需求的软件可移植性，我们已经长时间研究虚拟化技术和工具。通过利用虚拟化这种有益的抽象，通过额外的间接层来消除软件和硬件之间的抑制性依赖因素。这个想法是在任何硬件上运行任何软件。这是通过将单个物理服务器分成多个虚拟机（VMs）来实现的，每个 VM 都有自己的操作系统（OS）。通过自动化工具和受控资源共享实现的隔离，异构应用程序可以在一台物理机上容纳。

通过虚拟化，IT 基础设施变得开放、可编程、可远程监控、可管理和可维护。业务工作负载可以托管在适当大小的虚拟机中，并传送到外部世界，确保更广泛和更频繁的利用。另一方面，对于高性能应用程序，可以轻松识别跨多台物理机的虚拟机，并迅速组合以保证任何种类的高性能需求。

虚拟化范式也有其缺点。由于冗长和臃肿（每个虚拟机都携带自己的操作系统），虚拟机的配置通常需要一段时间，性能会因过度使用计算资源而下降，等等。此外，对可移植性的不断增长需求并未完全得到虚拟化的满足。来自不同供应商的 Hypervisor 软件妨碍了应用程序的可移植性。操作系统和应用程序分发、版本、版本和补丁的差异阻碍了平稳的可移植性。计算机虚拟化蓬勃发展，而与之密切相关的网络和存储虚拟化概念刚刚起步。通过虚拟机相互作用构建分布式应用程序会引发和涉及一些实际困难。

让我们继续讨论容器化。所有这些障碍都促成了容器化理念的空前成功。一个容器通常包含一个应用程序，应用程序的所有库、二进制文件和其他依赖项都被一起打包，以作为一个全面而紧凑的实体呈现给外部世界。容器非常轻量级，高度可移植，易于快速配置等等。Docker 容器实现了本地系统性能。通过应用容器，DevOps 的目标得到了充分实现。作为最佳实践，建议每个容器托管一个应用程序或服务。

流行的 Docker 容器化平台推出了一个使容器的生命周期管理变得简单和快速的启用引擎。有行业强度和开放自动化工具免费提供，以满足容器网络和编排的需求。因此，生产和维护业务关键的分布式应用变得容易。业务工作负载被系统地容器化，以便轻松地转移到云环境，并为容器工匠和作曲家提供云端软件解决方案和服务。确切地说，容器正在成为 IT 和业务服务最具特色、受欢迎和精细调整的运行时环境。

本书精心设计和开发，旨在为开发人员、云架构师、业务经理和战略家提供有关 Docker 平台及其推动行业垂直领域中的关键、复合和分布式应用的所有正确和相关信息。

# 本书涵盖了以下内容

《第一章》（ch01.html“第一章。使用 Docker 入门”）*使用 Docker 入门*，介绍了 Docker 平台以及它如何简化和加速实现容器化工作负载的过程，以便在各种平台上轻松部署和运行。本章还详细介绍了安装 Docker 引擎、从集中式 Docker Hub 下载 Docker 镜像、创建 Docker 容器以及排除 Docker 容器故障的步骤。

第二章，“处理 Docker 容器”，主要是为了阐述管理 Docker 图像和容器所需的命令。本章提供了理解 Docker 命令输出所需的基本 Docker 术语。此外，本章还涵盖了在容器内启动交互会话，管理图像，运行容器以及跟踪容器内的更改等其他细节。

第三章，“构建图像”，介绍了 Docker 集成图像构建系统。本章还涵盖了 Dockerfile 语法的快速概述以及关于 Docker 如何存储图像的一些理论。

第四章，“发布图像”，侧重于在集中式 Docker Hub 上发布图像以及如何充分利用 Docker Hub。本章的其他重要内容包括有关 Docker Hub 的更多细节，如何将图像推送到 Docker Hub，图像的自动构建，创建 Docker Hub 上的组织，以及私有存储库。

第五章，“运行您的私有 Docker 基础设施”，解释了企业如何建立自己的私有存储库。由于某些原因，企业可能不希望将特定的 Docker 图像托管在公开可用的图像存储库（如 Docker Hub）中。因此，他们需要自己的私有存储库来保存这些图像。本章包含了设置和维护私有存储库所需的所有信息。

第六章，“在容器中运行服务”，说明了如何将 Web 应用程序作为服务在 Docker 容器内运行，以及如何公开该服务，以便外部世界找到并访问它。还详细描述了如何开发适当的 Dockerfile 以简化此任务。

第七章，“与容器共享数据”，向您展示如何使用 Docker 的卷功能在 Docker 主机和其容器之间共享数据。本章还涵盖了如何在容器之间共享数据，常见用例以及要避免的典型陷阱。

第八章 *编排容器*，着重于编排多个容器以实现复合、容器化的工作负载。众所周知，编排在生成复合应用程序中起着重要作用。本章包括一些关于编排和可用于启用编排过程的工具集的信息。最后，您将找到一个精心编排的示例，演示如何编排容器以产生高度可重用和业务感知的容器。

第九章 *使用 Docker 进行测试*，侧重于在 Docker 镜像内测试您的代码。在本章中，您将了解如何在临时 Docker 镜像内运行测试。最后，您将了解如何将 Docker 测试集成到持续集成服务器（如 Jenkins）中的详细信息。

第十章 *调试容器*，教您如何调试在容器内运行的应用程序。还涵盖了关于 Docker 如何确保容器内运行的进程与外部世界隔离的详细信息。此外，还包括了关于使用 nsenter 和 nsinit 工具进行有效调试的描述。

第十一章 *保护 Docker 容器*，旨在解释正在酝酿的安全和隐私挑战和关注点，以及通过使用充分的标准、技术和工具来解决这些问题。本章描述了在镜像内降低用户权限的机制。还简要介绍了在保护 Docker 容器时，SELinux 引入的安全功能如何派上用场。

# 本书所需内容

Docker 平台需要 64 位硬件系统才能运行。本书的 Docker 应用程序是在 Ubuntu 14.04 上开发的，但这并不意味着 Docker 平台不能在其他 Linux 发行版上运行，比如 Redhat、CentOS、CoreOS 等。但是，Linux 内核版本必须是 3.10 或更高版本。

# 本书适合对象

如果您是一名应用程序开发人员，想要学习 Docker 以利用其特性进行应用部署，那么这本书适合您。不需要 Docker 的先前知识。

# 约定

在本书中，您会发现许多文本样式，用于区分不同类型的信息。以下是一些样式的示例及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名显示如下：“如果`docker`服务正在运行，则此命令将打印状态为`start/running`，并显示其进程 ID。”

代码块设置如下：

[PRE0]

任何命令行输入或输出都以以下形式书写：

[PRE1]

**新术语**和**重要单词**以粗体显示。屏幕上看到的单词，例如菜单或对话框中的单词，会以这样的方式出现在文本中：“选择**Docker**选项，它在下拉菜单中，然后点击**立即启动**。”

### 注意

警告或重要说明会出现在这样的框中。

### 提示

提示和技巧会以这种方式出现。
